import{components as U}from"vuetify";import{defineComponent as v,ref as h,openBlock as s,createBlock as f,withCtx as a,createVNode as o,createElementBlock as m,Fragment as _,createTextVNode as d,toDisplayString as c,createCommentVNode as $,renderList as y,createElementVNode as k,computed as w,resolveComponent as I}from"vue";import{navigateTo as D,getCurrentRoute as V}from"@browser-module/api/nav";import{getUserLogin as C}from"@browser-module/api/user";import{useRoute as N}from"vue-router";import{_ as g}from"./--plugin-vue--export-helper-DlAUqK2U.js";const A=async e=>{if(!e)return[];const r=C();if(!r.includes(e))return[];const l=[{name:e}];return e!==r&&r.includes(e)&&l.unshift({name:r}),l},L=v({name:"SearchUser",setup(){const e=h(""),r=h([]);return{searchQuery:e,users:r,searchUsers:async()=>{e.value.length>2?r.value=await A(e.value):r.value=[]},goToUserDetails:u=>{D({path:`/admin/users/details/${u}`})}}}}),{VTextField:Q,VListItemTitle:B,VListItem:F,VList:M,VContainer:R}=U;function S(e,r,l,p,u,t){return s(),f(R,{fluid:""},{default:a(()=>[o(Q,{modelValue:e.searchQuery,"onUpdate:modelValue":r[0]||(r[0]=n=>e.searchQuery=n),label:"Input user name",flat:"",clearable:"","prepend-inner-icon":"mdi-magnify",onInput:e.searchUsers},null,8,["modelValue","onInput"]),e.users.length?(s(),m(_,{key:0},[d(" Found user"+c(e.users.length>1?"s":"")+" ",1),e.users.length>1||!e.users.map(n=>n.name).includes(e.searchQuery)?(s(),m(_,{key:0},[d(" with name like *"+c(e.searchQuery)+"* ",1)],64)):$("",!0),o(M,null,{default:a(()=>[(s(!0),m(_,null,y(e.users,n=>(s(),f(F,{key:n.name,onClick:i=>e.goToUserDetails(n.name)},{default:a(()=>[o(B,null,{default:a(()=>[d(c(n.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})],64)):$("",!0)]),_:1})}const W=g(L,[["render",S]]),b=v({name:"UserDetails",setup(){return{name:N().params.name}}});function E(e,r,l,p,u,t){return s(),m("div",null,[k("p",null,"Name: "+c(e.name),1)])}const P=g(b,[["render",E]]);function re(e){return[{path:"users",component:W,alias:["","users"]},{path:"users/details/:name",component:P},{path:":pathMatch(.*)*",redirect:`${e}/users`}]}const j=v({name:"Admin",setup(){const e=h(!0),r=C(),l=w(()=>[{title:"Users",icon:"mdi-account-search-outline",exact:!0,path:"/admin/users",alias:"/admin"},{title:"User",icon:"mdi-account-outline",exact:!1,path:"/admin/users/details/",pathClcik:`/admin/users/details/${r}`,altTitle:"User (Me)"}]);function p(t){const n=V().path;return t.exact?n===t.path?(console.log("[active nav-item] #path",t.path,n),!0):t.alias&&n===t.alias?(console.log("[active nav-item] #alias",t.alias,n),!0):(console.log("[non-active nav-item]",t.path,n),!1):n.startsWith(t.path)?(console.log("[active nav-item] #startsWith",t.path,n),!0):(console.log("[non-active nav-item] #notStartsWith",t.path,n),!1)}function u(t){const n=V().path;return t.pathClcik&&n===t.pathClcik&&t.altTitle||t.title}return{drawer:e,items:l,isActive:p,getTitle:u}}}),{VIcon:q,VListItemTitle:z,VListItem:G,VList:H,VNavigationDrawer:J,VMain:K,VApp:O}=U;function X(e,r,l,p,u,t){const n=I("router-view");return s(),f(O,null,{default:a(()=>[o(J,{modelValue:e.drawer,"onUpdate:modelValue":r[0]||(r[0]=i=>e.drawer=i),app:"",permanent:""},{default:a(()=>[o(H,{dense:""},{default:a(()=>[(s(!0),m(_,null,y(e.items,(i,T)=>(s(),f(G,{key:T,to:i.pathClcik||i.path,router:"",active:e.isActive(i)},{prepend:a(()=>[o(q,null,{default:a(()=>[d(c(i.icon),1)]),_:2},1024)]),default:a(()=>[o(z,null,{default:a(()=>[d(c(e.getTitle(i)),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})]),_:1},8,["modelValue"]),o(K,null,{default:a(()=>[o(n)]),_:1})]),_:1})}const ae=g(j,[["render",X]]);export{re as createRouteChildren,ae as default};
