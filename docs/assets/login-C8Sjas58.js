import{components as p}from"vuetify";import{ref as l,openBlock as _,createBlock as i,withCtx as o,createVNode as t,createTextVNode as d,withModifiers as f,toDisplayString as V,createCommentVNode as g,onMounted as onM, onUnmounted as onU}from"vue";import{router as v}from"@browser-module/router";import{login as w}from"@browser-module/api/user";import{_ as y}from"./--plugin-vue--export-helper-DlAUqK2U.js";const x={props:{redirectTo:{type:String,default:"/dashboard"}},setup(s){let sE;onM(()=>{sE=document.createElement('style');sE.textContent=`.fill-height[data-v-0b881fac]{height:100vh}
`;document.head.appendChild(sE);});onU(()=>{if(sE){document.head.removeChild(sE);}});const r=l(""),n=l(""),e=l("");return{name:r,password:n,errorMessage:e,handleLogin:async()=>{try{await w(r.value,n.value)?v.push(s.redirectTo):e.value="Wrong login and password"}catch{e.value="An error occurred. Please try again."}}}}},{VCardTitle:b,VTextField:m,VBtn:h,VAlert:C,VForm:L,VCardText:T,VCard:M,VCol:N,VRow:S,VContainer:k}=p;function B(s,r,n,e,u,c){return _(),i(k,{class:"fill-height",fluid:""},{default:o(()=>[t(S,{align:"center",justify:"center"},{default:o(()=>[t(N,{cols:"12",md:"6",lg:"4"},{default:o(()=>[t(M,null,{default:o(()=>[t(b,{class:"text-h5"},{default:o(()=>[d("Login")]),_:1}),t(T,null,{default:o(()=>[t(L,{onSubmit:f(e.handleLogin,["prevent"])},{default:o(()=>[t(m,{modelValue:e.name,"onUpdate:modelValue":r[0]||(r[0]=a=>e.name=a),label:"Name",required:""},null,8,["modelValue"]),t(m,{modelValue:e.password,"onUpdate:modelValue":r[1]||(r[1]=a=>e.password=a),label:"Password",type:"password",required:""},null,8,["modelValue"]),t(h,{type:"submit",color:"primary",class:"mt-3"},{default:o(()=>[d("Login")]),_:1}),e.errorMessage?(_(),i(C,{key:0,type:"error",class:"mt-3"},{default:o(()=>[d(V(e.errorMessage),1)]),_:1})):g("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const j=y(x,[["render",B],["__scopeId","data-v-0b881fac"]]);export{j as default};
