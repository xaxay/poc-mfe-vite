import{defineComponent as u,ref as _,openBlock as r,createBlock as l,withCtx as s,createVNode as i,createTextVNode as d,createElementBlock as h,Fragment as U,renderList as v,toDisplayString as $,createElementVNode as V,resolveComponent as g}from"vue";import{components as y}from"vuetify";import{navigateTo as C}from"@browser-module/api/nav";import{getUserLogin as T}from"@browser-module/api/user";import{useRoute as N}from"vue-router";import{_ as m}from"./--plugin-vue--export-helper-DlAUqK2U.js";const D=async e=>e?T().includes(e)?[{name:e}]:[]:[],I=u({name:"SearchUser",setup(){const e=_(""),t=_([]);return{searchQuery:e,users:t,searchUsers:async()=>{e.value.length>2?t.value=await D(e.value):t.value=[]},goToUserDetails:o=>{C({path:`/admin/users/${o}`})}}}}),{VTextField:S,VListItemTitle:k,VListItem:w,VList:x,VContainer:B}=y;function F(e,t,a,c,o,p){return r(),l(B,{fluid:""},{default:s(()=>[i(S,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=n=>e.searchQuery=n),label:"Input user name",flat:"",clearable:"","prepend-inner-icon":"mdi-magnify",onInput:e.searchUsers},null,8,["modelValue","onInput"]),d(" Found users: "),i(x,null,{default:s(()=>[(r(!0),h(U,null,v(e.users,n=>(r(),l(w,{key:n.name,onClick:M=>e.goToUserDetails(n.name)},{default:s(()=>[i(k,null,{default:s(()=>[d($(n.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})}const f=m(I,[["render",F]]),L=u({name:"UserDetails",setup(){return{name:N().params.name}}});function Q(e,t,a,c,o,p){return r(),h("div",null,[V("p",null,"Name: "+$(e.name),1)])}const b=m(L,[["render",Q]]);function H(e){const t=e?.title?`${e.title} - `:"";return[{path:"",component:f,meta:{title:`${t}Search user`}},{path:"users",component:f,meta:{title:`${t}Search user`}},{path:"users/:name",component:b,meta:{title:`${t}User details`}},{path:":pathMatch(.*)*",redirect:"search-user"}]}const A=u({name:"Admin"});function E(e,t,a,c,o,p){const n=g("router-view");return r(),l(n)}const J=m(A,[["render",E]]);export{H as createRouteChildren,J as default};
