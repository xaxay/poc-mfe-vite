import{components as E}from"vuetify";import{defineComponent as S,ref as r,computed as u,onMounted as D,onUnmounted as R,openBlock as d,createBlock as b,withCtx as e,createVNode as t,createElementVNode as n,toDisplayString as s,createElementBlock as F,Fragment as N,createTextVNode as a,createCommentVNode as C,unref as x,pushScopeId as T,popScopeId as M,onMounted as onM, onUnmounted as onU}from"vue";import{useCounterStore as Z}from"@browser-module/stores/counter";import{onRouterLoaded as y,getRouter as A,navigateTo as P,getCurrentRoute as U,getDefaultPath as j}from"@browser-module/api/nav";import{getUserLogin as q,isLogined as z,getExpiredInSeconds as L,logout as G}from"@browser-module/api/user";import{_ as J}from"./--plugin-vue--export-helper-DlAUqK2U.js";const K="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M261.126%20140.65L164.624%20307.732L256.001%20466L377.028%20256.5L498.001%2047H315.192L261.126%20140.65Z'%20fill='%231697F6'/%3e%3cpath%20d='M135.027%20256.5L141.365%20267.518L231.64%20111.178L268.731%2047H256H14L135.027%20256.5Z'%20fill='%23AEDDFF'/%3e%3cpath%20d='M315.191%2047C360.935%20197.446%20256%20466%20256%20466L164.624%20307.732L315.191%2047Z'%20fill='%231867C0'/%3e%3cpath%20d='M268.731%2047C76.0026%2047%20141.366%20267.518%20141.366%20267.518L268.731%2047Z'%20fill='%237BC6FF'/%3e%3c/svg%3e",{VImg:O,VToolbarTitle:Q,VIcon:i,VTooltip:_,VBtn:p,VBadge:W,VAvatar:X,VAppBar:Y}=E,l=c=>(T("data-v-0ac9e986"),c=c(),M(),c),$={class:"title"},ee=l(()=>n("b",null,"Dashboard",-1)),te=l(()=>n("br",null,null,-1)),oe=l(()=>n("b",null,"Notifications",-1)),ne=l(()=>n("br",null,null,-1)),ae=l(()=>n("br",null,null,-1)),le=l(()=>n("br",null,null,-1)),ce=S({__name:"Header",setup(c){let sE;onM(()=>{sE=document.createElement('style');sE.textContent=`.logo[data-v-0ac9e986]{max-width:2rem}.title[data-v-0ac9e986]{font-size:1.5rem}
`;document.head.appendChild(sE);});onU(()=>{if(sE){document.head.removeChild(sE);}});console.log("[Header.vue] setup started");const m=Z(),I=r("mdi-account"),v=r(!1),f=r(""),k=u(()=>m.counter),V=u(()=>q()),w=u(()=>z()),g=r(L()),H=()=>{g.value=L()},B=()=>{P("/dashboard")},h=()=>{const o=U();v.value=o.path===j(),f.value=o.meta.title||"",console.log("[Header.vue] updateRouteInfo.",o.path,"currentRoute:",o)};return y(o=>{h(),A().afterEach(()=>{console.log("[Header.vue] router afterEach"),h()})}),D(()=>{console.log("[Header.vue] mounted");const o=setInterval(H,1e3);R(()=>{clearInterval(o)})}),console.log("[Header.vue] setup ended"),(o,re)=>(d(),b(Y,{app:""},{default:e(()=>[t(O,{src:K,alt:"Logo",class:"logo","max-width":"5rem"}),t(Q,null,{default:e(()=>[n("span",$,s(f.value),1)]),_:1}),w.value?(d(),F(N,{key:0},[v.value?C("",!0):(d(),b(p,{key:0,icon:"",onClick:B},{default:e(()=>[t(i,null,{default:e(()=>[a("mdi-view-dashboard")]),_:1}),t(_,{activator:"parent",location:"bottom"},{default:e(()=>[ee,te,a("Click to open ")]),_:1})]),_:1})),t(p,{icon:"",onClick:x(m).resetCounter},{default:e(()=>[t(W,{content:k.value,color:"red","offset-x":"-5",max:"99"},{default:e(()=>[t(i,null,{default:e(()=>[a("mdi-bell")]),_:1})]),_:1},8,["content"]),t(_,{activator:"parent",location:"bottom"},{default:e(()=>[oe,ne,a("Click to reset ")]),_:1})]),_:1},8,["onClick"]),t(p,{icon:"",onClick:x(G),class:"mx-4"},{default:e(()=>[t(X,null,{default:e(()=>[t(i,null,{default:e(()=>[a(s(I.value),1)]),_:1}),t(_,{activator:"parent",location:"bottom"},{default:e(()=>[n("b",null,s(V.value),1),ae,a("Expired in: "+s(g.value)+" seconds. ",1),le,a("Click to logout ")]),_:1})]),_:1})]),_:1},8,["onClick"])],64)):C("",!0)]),_:1}))}}),me=J(ce,[["__scopeId","data-v-0ac9e986"]]);export{me as default};
