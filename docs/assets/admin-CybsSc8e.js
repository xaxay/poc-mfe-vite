import{components as g}from"vuetify";import{defineComponent as h,ref as f,openBlock as l,createBlock as _,withCtx as r,createVNode as s,createElementBlock as p,Fragment as d,createTextVNode as m,toDisplayString as c,createCommentVNode as $,renderList as U,createElementVNode as w,computed as k,resolveComponent as D}from"vue";import{navigateTo as I,getCurrentRoute as T}from"@browser-module/api/nav";import{getUserLogin as y}from"@browser-module/api/user";import{useRoute as N}from"vue-router";import{_ as v}from"./--plugin-vue--export-helper-DlAUqK2U.js";const A=async e=>{if(!e)return[];const t=y();if(!t.includes(e))return[];const i=[{name:e}];return e!==t&&t.includes(e)&&i.unshift({name:t}),i},Q=h({name:"SearchUser",setup(){const e=f(""),t=f([]);return{searchQuery:e,users:t,searchUsers:async()=>{e.value.length>2?t.value=await A(e.value):t.value=[]},goToUserDetails:a=>{I({path:`/admin/users/details/${a}`})}}}}),{VTextField:L,VListItemTitle:R,VListItem:B,VList:F,VContainer:S}=g;function W(e,t,i,n,a,V){return l(),_(S,{fluid:""},{default:r(()=>[s(L,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=o=>e.searchQuery=o),label:"Input user name",flat:"",clearable:"","prepend-inner-icon":"mdi-magnify",onInput:e.searchUsers},null,8,["modelValue","onInput"]),e.users.length?(l(),p(d,{key:0},[m(" Found user"+c(e.users.length>1?"s":"")+" ",1),e.users.length>1||!e.users.map(o=>o.name).includes(e.searchQuery)?(l(),p(d,{key:0},[m(" with name like *"+c(e.searchQuery)+"* ",1)],64)):$("",!0),s(F,null,{default:r(()=>[(l(!0),p(d,null,U(e.users,o=>(l(),_(B,{key:o.name,onClick:u=>e.goToUserDetails(o.name)},{default:r(()=>[s(R,null,{default:r(()=>[m(c(o.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})],64)):$("",!0)]),_:1})}const b=v(Q,[["render",W]]),E=h({name:"UserDetails",setup(){return{name:N().params.name}}});function M(e,t,i,n,a,V){return l(),p("div",null,[w("p",null,"Name: "+c(e.name),1)])}const j=v(E,[["render",M]]);function ae(e){return[{path:"users",component:b,alias:["","users"]},{path:"users/details/:name",component:j},{path:":pathMatch(.*)*",redirect:"users"}]}const q=h({name:"Admin",setup(){const e=f(!0),t=k(()=>[{title:"Users",icon:"mdi-account-search-outline",exact:!0,path:"/admin/users",alias:"/admin"},{title:"User",icon:"mdi-account-outline",exact:!1,path:"/admin/users/details/",pathClcik:`/admin/users/details/${y()}`}]);function i(n){const a=T().path;return n.exact?a===n.path?(console.log("[active nav-item] #path",n.path,a),!0):n.alias&&a===n.alias?(console.log("[active nav-item] #alias",n.alias,a),!0):(console.log("[non-active nav-item]",n.path,a),!1):a.startsWith(n.path)?(console.log("[active nav-item] #startsWith",n.path,a),!0):(console.log("[non-active nav-item] #notStartsWith",n.path,a),!1)}return{drawer:e,items:t,isActive:i}}}),{VIcon:z,VListItemTitle:G,VListItem:H,VList:J,VNavigationDrawer:K,VMain:O,VApp:P}=g;function X(e,t,i,n,a,V){const o=D("router-view");return l(),_(P,null,{default:r(()=>[s(K,{modelValue:e.drawer,"onUpdate:modelValue":t[0]||(t[0]=u=>e.drawer=u),app:"",permanent:""},{default:r(()=>[s(J,{dense:""},{default:r(()=>[(l(!0),p(d,null,U(e.items,(u,C)=>(l(),_(H,{key:C,to:u.pathClcik||u.path,router:"",active:e.isActive(u)},{prepend:r(()=>[s(z,null,{default:r(()=>[m(c(u.icon),1)]),_:2},1024)]),default:r(()=>[s(G,null,{default:r(()=>[m(c(u.title),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})]),_:1},8,["modelValue"]),s(O,null,{default:r(()=>[s(o)]),_:1})]),_:1})}const re=v(q,[["render",X]]);export{ae as createRouteChildren,re as default};
