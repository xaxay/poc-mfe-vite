import{createRouter as c,createWebHistory as l}from"vue-router";import n from"@browser-module/config/routes";const a="/",p=Object.entries(n.routes),r=p.map(([t,e])=>({path:t,component:()=>import(e.module),meta:{title:e.title}})),o=n.defaultPath;o&&r.push({path:"/:pathMatch(.*)*",redirect:o||"/"});console.log("baseUrl",a,"top level routes:",r);const h=c({history:l(a),routes:r});h.beforeEach((t,e,s)=>{r.some(u=>u.path===t.path)?(console.log("[router]",t?.path,"<=",e?.path),s()):(console.log("[router] unknown path:",t.path,"redirecting to default path:",o||"/"),s(o||"/"))});export{o as defaultRoutePath,h as router};
