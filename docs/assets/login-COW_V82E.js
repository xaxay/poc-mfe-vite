import{ref as s,resolveComponent as o,openBlock as m,createBlock as u,withCtx as t,createVNode as r,createTextVNode as c,withModifiers as L,toDisplayString as M,createCommentVNode as N,onMounted as onM, onUnmounted as onU}from"vue";import{router as S}from"@browser-module/router";import{login as k}from"@browser-module/api/user";import{_ as C}from"./--plugin-vue--export-helper-DlAUqK2U.js";const T={props:{redirectTo:{type:String,default:"/dashboard"}},setup(d){let sE;onM(()=>{sE=document.createElement('style');sE.textContent=`.fill-height[data-v-cb7e1fb0]{height:100vh}
`;document.head.appendChild(sE);});onU(()=>{if(sE){document.head.removeChild(sE);}});const n=s(""),a=s(""),e=s("");return{name:n,password:a,errorMessage:e,handleLogin:async()=>{try{await k(n.value,a.value)?S.push(d.redirectTo):e.value="Wrong login and password"}catch{e.value="An error occurred. Please try again."}}}}};function q(d,n,a,e,p,_){const f=o("v-card-title"),i=o("v-text-field"),v=o("v-btn"),g=o("v-alert"),w=o("v-form"),y=o("v-card-text"),b=o("v-card"),x=o("v-col"),V=o("v-row"),h=o("v-container");return m(),u(h,{class:"fill-height",fluid:""},{default:t(()=>[r(V,{align:"center",justify:"center"},{default:t(()=>[r(x,{cols:"12",md:"6",lg:"4"},{default:t(()=>[r(b,null,{default:t(()=>[r(f,{class:"text-h5"},{default:t(()=>[c("Login")]),_:1}),r(y,null,{default:t(()=>[r(w,{onSubmit:L(e.handleLogin,["prevent"])},{default:t(()=>[r(i,{modelValue:e.name,"onUpdate:modelValue":n[0]||(n[0]=l=>e.name=l),label:"Name",required:""},null,8,["modelValue"]),r(i,{modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=l=>e.password=l),label:"Password",type:"password",required:""},null,8,["modelValue"]),r(v,{type:"submit",color:"primary",class:"mt-3"},{default:t(()=>[c("Login")]),_:1}),e.errorMessage?(m(),u(g,{key:0,type:"error",class:"mt-3"},{default:t(()=>[c(M(e.errorMessage),1)]),_:1})):N("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const A=C(T,[["render",q],["__scopeId","data-v-cb7e1fb0"]]);export{A as default};
