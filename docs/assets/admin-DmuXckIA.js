import{components as U}from"vuetify";import{defineComponent as v,ref as h,openBlock as o,createBlock as f,withCtx as s,createVNode as a,createElementBlock as m,Fragment as _,createTextVNode as d,toDisplayString as c,createCommentVNode as V,renderList as y,createElementVNode as k,computed as w,resolveComponent as I}from"vue";import{navigateTo as D,getCurrentRoute as g}from"@browser-module/api/nav";import{getUserLogin as C}from"@browser-module/api/user";import{useRoute as N}from"vue-router";import{_ as $}from"./--plugin-vue--export-helper-DlAUqK2U.js";const A=async e=>{if(!e)return[];const t=C();if(!t.includes(e))return[];const l=[{name:e}];return e!==t&&t.includes(e)&&l.unshift({name:t}),l},L=v({name:"SearchUser",setup(){const e=h(""),t=h([]);return{searchQuery:e,users:t,searchUsers:async()=>{e.value.length>2?t.value=await A(e.value):t.value=[]},goToUserDetails:i=>{D({path:`/admin/users/details/${i}`})}}}}),{VTextField:Q,VListItemTitle:B,VListItem:F,VList:M,VContainer:R}=U;function b(e,t,l,p,i,n){return o(),f(R,{fluid:""},{default:s(()=>[a(Q,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=r=>e.searchQuery=r),label:"Input user name",flat:"",clearable:"","prepend-inner-icon":"mdi-magnify",onInput:e.searchUsers},null,8,["modelValue","onInput"]),e.users.length?(o(),m(_,{key:0},[d(" Found user"+c(e.users.length>1?"s":"")+" ",1),e.users.length>1||!e.users.map(r=>r.name).includes(e.searchQuery)?(o(),m(_,{key:0},[d(" with name like *"+c(e.searchQuery)+"* ",1)],64)):V("",!0),a(M,null,{default:s(()=>[(o(!0),m(_,null,y(e.users,r=>(o(),f(F,{key:r.name,onClick:u=>e.goToUserDetails(r.name)},{default:s(()=>[a(B,null,{default:s(()=>[d(c(r.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})],64)):V("",!0)]),_:1})}const E=$(L,[["render",b]]),S=v({name:"UserDetails",setup(){return{name:N().params.name}}});function P(e,t,l,p,i,n){return o(),m("div",null,[k("p",null,"Name: "+c(e.name),1)])}const W=$(S,[["render",P]]);function re(e){return[{path:"users",component:E,alias:["","users"]},{path:"users/details/:name",component:W},{path:":pathMatch(.*)*",redirect:`${e}/users`}]}const j=v({name:"Admin",setup(){const e=h(!0),t=C(),l=w(()=>[{title:"Users",icon:"mdi-account-search-outline",exact:!0,path:"/admin/users",alias:"/admin"},{title:"User",icon:"mdi-account-outline",exact:!1,path:"/admin/users/details/",pathClcik:`/admin/users/details/${t}`,altTitle:"User (Me)"}]);function p(n){const r=g().path;return n.exact?!!(r===n.path||n.alias&&r===n.alias):!!r.startsWith(n.path)}function i(n){const r=g().path;return n.pathClcik&&r===n.pathClcik&&n.altTitle||n.title}return{drawer:e,items:l,isActive:p,getTitle:i}}}),{VIcon:q,VListItemTitle:z,VListItem:G,VList:H,VNavigationDrawer:J,VMain:K,VApp:O}=U;function X(e,t,l,p,i,n){const r=I("router-view");return o(),f(O,null,{default:s(()=>[a(J,{modelValue:e.drawer,"onUpdate:modelValue":t[0]||(t[0]=u=>e.drawer=u),app:"",permanent:""},{default:s(()=>[a(H,{dense:""},{default:s(()=>[(o(!0),m(_,null,y(e.items,(u,T)=>(o(),f(G,{key:T,to:u.pathClcik||u.path,router:"",active:e.isActive(u)},{prepend:s(()=>[a(q,null,{default:s(()=>[d(c(u.icon),1)]),_:2},1024)]),default:s(()=>[a(z,null,{default:s(()=>[d(c(e.getTitle(u)),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(K,null,{default:s(()=>[a(r)]),_:1})]),_:1})}const se=$(j,[["render",X]]);export{re as createRouteChildren,se as default};
