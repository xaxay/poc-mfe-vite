import{createRouter as p,createWebHistory as h}from"vue-router";import v from"./routes-CryGAF5U.js";const y="modulepreload",g=function(e){return"/poc-mfe-vite/"+e},l={},w=function(n,u,P){let a=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=c?.nonce||c?.getAttribute("nonce");a=Promise.all(u.map(t=>{if(t=g(t),t in l)return;l[t]=!0;const s=t.endsWith(".css"),m=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${m}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":y,s||(r.as="script",r.crossOrigin=""),r.href=t,o&&r.setAttribute("nonce",o),document.head.appendChild(r),s)return new Promise((f,d)=>{r.addEventListener("load",f),r.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${t}`)))})}))}return a.then(()=>n()).catch(c=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c})};console.log("[nav.ts]");let i=null;async function E(){console.log("Started dynamic import of @browser-module/router");const{router:e}=await w(async()=>{const{router:n}=await import("@browser-module/router");return{router:n}},[]);i=e,console.log("Finished dynamic import of @browser-module/router")}E();function S(e){if(!i)throw new Error("main router is not loaded yet");i.push(e)}const R=p({history:h(),routes:[]});function C(){return i?i.currentRoute.value:R.currentRoute.value}function k(){return v.defaultPath}function L(...e){return e.map(n=>n.replace(/\/+$/,"").replace(/^\/+/,"")).join("/")}export{C as getCurrentRoute,k as getDefaultPath,L as join,S as navigateTo};
