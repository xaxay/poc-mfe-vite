import{createRouter as l,createWebHistory as u}from"vue-router";import s from"@browser-module/config/routes";const a=Object.entries(s.routes),e=a.map(([o,t])=>({path:o,component:()=>import(t.module),meta:{title:t.title}})),r=s.defaultPath;r&&e.unshift({path:"/",redirect:r});console.log("top level routes:",e);const n=window.location.pathname;let c=n.substring(0,n.length-1);console.log("BASE_URL",c);const h=l({history:u(c),routes:e});h.beforeEach((o,t,i)=>{console.log("[router]",o?.path,"<=",t?.path),i()});export{h as router};
