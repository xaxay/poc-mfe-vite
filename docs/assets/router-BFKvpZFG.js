import{createRouter as l,createWebHistory as u}from"vue-router";import o from"@browser-module/config/routes";const i=Object.entries(o.routes),r=i.map(([e,t])=>({path:e,component:()=>import(t.module),meta:{title:t.title}})),a=o.baseUrl||"/",s=o.defaultPath;s&&r.push({path:"/:pathMatch(.*)*",redirect:s});console.log("baseUrl",a,"top level routes:",r);const n=l({history:u(a),routes:r});n.beforeEach((e,t,c)=>{console.log("[router]",e?.path,"<=",t?.path),c()});export{n as router};
